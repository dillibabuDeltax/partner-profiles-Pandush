<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ProxyEndpoint name="default">
    <FaultRules>
    </FaultRules>
    <PreFlow>
       
    </PreFlow>
    <Flows>
    	
	    	<Flow name="returns list of account's profiles">
	    		<Description>returns list of account's profiless Pandush</Description> 
	    		<Request>
			    </Request> 
			    <Condition>(request.path Matches "/") and (request.verb = "GET")</Condition>
				<Response/>
			</Flow>     
	    	<Flow name="create a person profile">
	    		<Description>create a person profile</Description> 
	    		<Request> 
			    </Request> 
			    <Condition>(request.path Matches "/") and (request.verb = "POST")</Condition> 
				<Response/>
			</Flow>
	    	<Flow name="returns a profile by an id">
	    		<Description>returns a profile by an id</Description> 
	    		<Request>
			    </Request> 
			    <Condition>(request.path Matches "/{profile_id}") and (request.verb = "GET")</Condition>
				<Response/>
			</Flow>     
	    	<Flow name="modify a person's profile">
	    		<Description>modify a person's profile</Description> 	    	
	    		<Request>
			    </Request> 
			    <Condition>(request.path Matches "/{profile_id}") and (request.verb = "PUT")</Condition> 
				<Response/>
			</Flow>
	    	<Flow name="Delete a given profile not associated with a subscription">
	    		<Description>Delete a given profile not associated with a subscription</Description> 
	    		<Request> 
			    </Request> 
			    <Condition>(request.path Matches "/{profile_id}") and (request.verb = "DELETE")</Condition> 
				<Response/>
			</Flow>	
	    	<Flow name="Returns the history of the profile with the given ID.">
	    		<Description>Returns the the history of the profile with the given ID.</Description> 
	    		<Request>
			    </Request> 
			    <Condition>(request.path Matches "/{profile_id}/history") and (request.verb = "GET")</Condition>
				<Response/>
			</Flow>     
	   
    </Flows>
    <PostFlow>
    </PostFlow>
    <RouteRule name="NoRoute">
        <Condition>request.verb == "OPTIONS"</Condition>
    </RouteRule>
    <!-- This node will be dynamically generated by the proxy-gen tool. It covers BasePath and VirtualHost entries -->
    <RouteRule name="mock-partner-profiles">
    	<TargetEndpoint>mock-partner-profiles</TargetEndpoint>
        <Condition>(request.header.x-mock == "y") OR (request.header.x-mock == "Y")</Condition>
    </RouteRule>
    <RouteRule name="apiBackend-partner-profiles">
    	<TargetEndpoint>apiBackend-partner-profiles</TargetEndpoint>
        <Condition>(request.header.x-mock != "y") AND (request.header.x-mock != "Y")</Condition>
    </RouteRule>
    <HTTPProxyConnection>        
    	<BasePath>/v1/partner-profiles-Pandush</BasePath>
		<VirtualHost>secure</VirtualHost>
		<VirtualHost>vh-api.infoarmor.io</VirtualHost>
    </HTTPProxyConnection>
</ProxyEndpoint>